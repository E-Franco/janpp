"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6501],{6501:(k,m,l)=>{l.r(m),l.d(m,{LoginPageModule:()=>E});var c=l(8974),p=l(177),h=l(4341),d=l(8986),g=l(7776);class C{constructor(){this.EmpresaId=0,this.PrimeiroAcesso=!1}}var u=l(2336),t=l(4438);let f=(()=>{var n;class i{constructor(){this.GROUP_SEPARATOR=",",this.DECIMAL_SEPARATOR=","}transform(e,r){if(!e)return"";let o=e.toString();if(null==r||""==r){const a=this.unFormat(o).split(this.DECIMAL_SEPARATOR);return a[0].length<=8&&-1==o.indexOf("x")?(this.maskedId=this.cep(a[0]),this.maskedId):a[0].length<=9&&o.indexOf("x")>-1?(this.maskedId=this.rg(o),this.maskedId):a[0].length<=11?(this.maskedId=this.cpf_mask(a[0]),this.maskedId):(this.maskedId=this.cnpj(a[0]),this.maskedId)}switch(r){case"telefone":return this.maskedId=this.telefone(o),this.maskedId;case"celular":return this.maskedId=this.celular(o),this.maskedId;case"dataCartao":return this.maskedId=this.dataExpiracaoCartao(o),this.maskedId;case"dataNascimento":return this.maskedId=this.dataNascimento(o),this.maskedId}}unFormat(e){return e?(e=e.replace(/\D/g,"")).replace(","===this.GROUP_SEPARATOR?/,/g:/\./g,""):""}cpf_mask(e){return(e=(e=(e=e.replace(/\D/g,"")).replace(/(\d{3})(\d)/,"$1.$2")).replace(/(\d{3})(\d)/,"$1.$2")).replace(/(\d{3})(\d{1,2})$/,"$1-$2")}cnpj(e){return(e=(e=(e=(e=e.replace(/\D/g,"")).replace(/^(\d{2})(\d)/,"$1.$2")).replace(/^(\d{2})\.(\d{3})(\d)/,"$1.$2.$3")).replace(/\.(\d{3})(\d)/,".$1/$2")).replace(/(\d{4})(\d)/,"$1-$2")}cep(e){return(e=(e=e.replace(/\D/g,"")).replace(/^(\d{2})(\d)/,"$1.$2")).replace(/^(\d{2})\.(\d{3})(\d)/,"$1.$2-$3")}rg(e){const r=this.unFormat(e).split(this.DECIMAL_SEPARATOR);return(e=e.indexOf("x")>-1?r[0]+"x":r[0]).replace(/^(\d{1,2})(\d{3})(\d{3})([\dx])$/,"$1.$2.$3-$4")}telefone(e){return(e=e.replace(/\D/g,"")).replace(/^(\d{1,2})(\d{4})/,"($1)$2-")}celular(e){return(e=e.replace(/\D/g,"")).replace(/^(\d{1,2})(\d{5})/,"($1)$2-")}dataExpiracaoCartao(e){return(e=e.replace(/\D/g,"")).replace(/^(\d{2})(\d)/,"$1/$2")}dataNascimento(e){return(e=(e=e.replace(/\D/g,"")).replace(/^(\d{2})(\d)/,"$1/$2")).replace(/(\d{2})(\d)/,"$1/$2")}}return(n=i).\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.EJ8({name:"FormataString",type:n,pure:!0}),i})(),S=(()=>{var n;class i{constructor(e,r,o){this.elementRef=e,this.pipe=r,this.model=o,this.el=this.elementRef.nativeElement,null!=this.elementRef.nativeElement.attributes.formatastring.value&&(this.mask=this.elementRef.nativeElement.attributes.formatastring.value)}ngOnInit(){this.el.value=this.pipe.transform(this.el.value,this.mask)}onBlur(e){e=this.pipe.transform(e=this.model.value,this.mask),this.model.viewToModelUpdate(e),null!==this.model.valueAccessor&&this.model.valueAccessor.writeValue(e)}onKeyup(e){e=this.pipe.transform(e=this.model.value,this.mask),this.model.viewToModelUpdate(e),null!==this.model.valueAccessor&&this.model.valueAccessor.writeValue(e)}}return(n=i).\u0275fac=function(e){return new(e||n)(t.rXU(t.aKT),t.rXU(f),t.rXU(h.vS))},n.\u0275dir=t.FsC({type:n,selectors:[["","formataString",""]],hostBindings:function(e,r){1&e&&t.bIt("blur",function(a){return r.onBlur(a.target.value)})("keyup",function(a){return r.onKeyup(a.target.value)})}}),i})();function P(n,i){if(1&n){const s=t.RV6();t.j41(0,"button",16),t.bIt("click",function(){t.eBV(s);const r=t.XpG();return t.Njj(r.entrar())}),t.EFF(1,"Entrar"),t.k0s()}}function _(n,i){if(1&n){const s=t.RV6();t.j41(0,"button",16),t.bIt("click",function(){t.eBV(s);const r=t.XpG();return t.Njj(r.recuperarSenha())}),t.EFF(1,"Salvar"),t.k0s()}}function b(n,i){if(1&n){const s=t.RV6();t.j41(0,"button",17),t.bIt("click",function(){t.eBV(s);const r=t.XpG();return t.Njj(r.configurarPrimeiroAcesso())}),t.EFF(1,"Primeiro Acesso"),t.k0s()}}const M=[{path:"",component:(()=>{var n;class i{constructor(e,r,o,a){this.router=e,this.servico=r,this.alertController=o,this.storageServico=a,this.usuario=new g.Pw,this.recuperandoSenha=!1,this.gerouCodigoRecuperacao=!1,this.argsRecuperarSenha=new C}entrar(){if(null==this.usuario.CGC||""===this.usuario.CGC)return void this.alertController.create({header:"Erro ao entrar",message:"Favor informar o CPF!",buttons:["OK"]}).then(o=>o.present());let e=this.usuario.Senha;null!=this.usuario.Senha&&(this.usuario.Senha=u.a0.EncryptografarAES(this.usuario.Senha)),u.aH.get("onLoading").emit(),this.servico.autenticar(this.usuario).subscribe(r=>{r.Status===g.uY.SUCESSO?(this.storageServico.setarUsuario(r.Entidade),u.aH.get("home_configurar_usuario").emit(r.Entidade),u.aH.get("minhaconta_configurar_usuario").emit(r.Entidade),this.usuario.Id=r.Entidade.Id,this.usuario.PrimeiroAcesso=r.Entidade.PrimeiroAcesso,this.usuario.PrimeiroAcesso||this.router.navigate(["/tabs"])):(this.usuario.Senha=e,this.alertController.create({header:"Erro ao entrar",message:r.MsgErro,buttons:["OK"]}).then(a=>a.present())),u.aH.get("offLoading").emit()},r=>{this.usuario.Senha=e,this.alertController.create({header:"Ops... Houve um problema",message:"",buttons:["OK"]}).then(a=>a.present()),u.aH.get("offLoading").emit()})}esqueceuSenha(){this.recuperandoSenha=!0,this.argsRecuperarSenha.CGC=this.usuario.CGC}voltar(){this.recuperandoSenha=!1,this.gerouCodigoRecuperacao=!1}gerarCodigoRecuperarSenha(){u.aH.get("onLoading").emit(),this.servico.gerarCodigoRecuperarSenha(this.argsRecuperarSenha).subscribe(e=>{e.Status===g.uY.SUCESSO?(this.gerouCodigoRecuperacao=!0,this.alertController.create({header:"",message:"Foi enviado um c\xf3digo para o email.",buttons:["OK"]}).then(o=>o.present())):this.alertController.create({header:"Erro",message:"Erro ao tentar gerar c\xf3digo para recupera\xe7\xe3o de senha do usu\xe1rio!",buttons:["OK"]}).then(o=>o.present()),u.aH.get("offLoading").emit()},e=>{this.alertController.create({header:"Erro",message:"Erro ao tentar gerar c\xf3digo para recupera\xe7\xe3o de senha do usu\xe1rio!",buttons:["OK"]}).then(o=>o.present()),u.aH.get("offLoading").emit()})}recuperarSenha(){if(!this.usuario.PrimeiroAcesso&&(void 0===this.argsRecuperarSenha.CodigoRecuperacao||""===this.argsRecuperarSenha.CodigoRecuperacao)&&this.alertController.create({header:"Erro ao recuperar senha",message:"Favor informar o c\xf3digo enviado ao email",buttons:["OK"]}).then(o=>o.present()),this.usuario.PrimeiroAcesso?(this.argsRecuperarSenha.UsuarioId=this.usuario.Id,this.argsRecuperarSenha.CGC=this.usuario.CGC,this.argsRecuperarSenha.PrimeiroAcesso=!0,this.argsRecuperarSenha.NovaSenha=this.usuario.Senha):(this.usuario.Senha=this.argsRecuperarSenha.NovaSenha,this.usuario.ConfirmarSenha=this.argsRecuperarSenha.ConfirmarSenha),!this.validarSenha())return;u.aH.get("onLoading").emit();let e=this.argsRecuperarSenha.NovaSenha;void 0!==this.argsRecuperarSenha.NovaSenha&&(this.argsRecuperarSenha.NovaSenha=u.a0.EncryptografarAES(this.argsRecuperarSenha.NovaSenha)),this.servico.recuperarSenha(this.argsRecuperarSenha).subscribe(r=>{r.Status===g.uY.SUCESSO?(this.storageServico.setarUsuario(r.Entidade),this.router.navigate(["/tabs"])):(this.argsRecuperarSenha.NovaSenha=e,this.alertController.create({header:"Erro ao recuperar senha",message:r.MsgErro,buttons:["OK"]}).then(a=>a.present())),u.aH.get("offLoading").emit()},r=>{this.argsRecuperarSenha.NovaSenha=e,this.alertController.create({header:"Ops... Houve um problema",buttons:["OK"]}).then(a=>a.present()),u.aH.get("offLoading").emit()})}validarSenha(){return null==this.usuario.Senha||""===this.usuario.Senha?(this.alertController.create({header:"Erro",message:"Favor informar a Senha!",buttons:["OK"]}).then(r=>r.present()),!1):this.usuario.Senha===this.usuario.ConfirmarSenha||(this.alertController.create({header:"Erro",message:"A senha confirmada deve ser igual a senha informada!",buttons:["OK"]}).then(r=>r.present()),!1)}configurarPrimeiroAcesso(){this.usuario.PrimeiroAcesso=!0,setTimeout(()=>u.aH.get("offLoading").emit(),3e3)}}return(n=i).\u0275fac=function(e){return new(e||n)(t.rXU(d.Ix),t.rXU(u.o1),t.rXU(c.hG),t.rXU(u.ni))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-login"]],decls:29,vars:8,consts:[["collapse","condense"],["size","large"],[3,"fullscreen"],[1,"row","linha-logo"],[1,"col-12","coluna-logo"],[1,"row","linha-login"],[1,"col-12"],[1,"text-bold"],["type","text","placeholder","Digite seu usu\xe1rio","name","CGC","formataString","","maxlength","14",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-12","linha-input"],["type","password","placeholder","Digite a senha","name","Senha",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-12","linha-input",3,"hidden"],["type","password","placeholder","Digite a senha novamente","name","usuario.ConfirmarSenha",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-12","linha-botao"],["class","btn btn-primary","type","button",3,"click",4,"ngIf"],["class","btn btn-success mt-10","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-success","mt-10",3,"click"]],template:function(e,r){1&e&&(t.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title",1),t.EFF(3,"Login"),t.k0s()()(),t.j41(4,"ion-content",2)(5,"ion-header",0)(6,"ion-toolbar")(7,"ion-title",1),t.EFF(8,"Login"),t.k0s()()(),t.j41(9,"div",3)(10,"div",4),t.nrm(11,"img"),t.k0s()(),t.j41(12,"div",5)(13,"div",6)(14,"label",7),t.EFF(15,"CPF:"),t.k0s(),t.j41(16,"input",8),t.mxI("ngModelChange",function(a){return t.DH7(r.usuario.CGC,a)||(r.usuario.CGC=a),a}),t.k0s()(),t.j41(17,"div",9)(18,"label",7),t.EFF(19,"Senha:"),t.k0s(),t.j41(20,"input",10),t.mxI("ngModelChange",function(a){return t.DH7(r.usuario.Senha,a)||(r.usuario.Senha=a),a}),t.k0s()(),t.j41(21,"div",11)(22,"label",7),t.EFF(23,"Confirmar Senha:"),t.k0s(),t.j41(24,"input",12),t.mxI("ngModelChange",function(a){return t.DH7(r.usuario.ConfirmarSenha,a)||(r.usuario.ConfirmarSenha=a),a}),t.k0s()(),t.j41(25,"div",13),t.DNE(26,P,2,0,"button",14)(27,_,2,0,"button",14)(28,b,2,0,"button",15),t.k0s()()()),2&e&&(t.R7$(4),t.Y8G("fullscreen",!0),t.R7$(12),t.R50("ngModel",r.usuario.CGC),t.R7$(4),t.R50("ngModel",r.usuario.Senha),t.R7$(),t.Y8G("hidden",!0!==r.usuario.PrimeiroAcesso),t.R7$(3),t.R50("ngModel",r.usuario.ConfirmarSenha),t.R7$(2),t.Y8G("ngIf",!0!==r.usuario.PrimeiroAcesso),t.R7$(),t.Y8G("ngIf",!0===r.usuario.PrimeiroAcesso),t.R7$(),t.Y8G("ngIf",!0!==r.usuario.PrimeiroAcesso))},dependencies:[c.W9,c.eU,c.BC,c.ai,p.bT,h.me,h.BC,h.tU,h.vS,S],styles:['@font-face{font-family:GothamBook;src:local("GothamBook"),url(GothamBook.62591579b79f9081.woff) format("woff")}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: $cor-primaria}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{text-align:center;font-weight:700}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:20px;float:left}ion-content[_ngcontent-%COMP%]   .linha-logo[_ngcontent-%COMP%]{background-color:#e0fe31;padding-top:5%}ion-content[_ngcontent-%COMP%]   .linha-logo[_ngcontent-%COMP%]   .coluna-logo[_ngcontent-%COMP%]{display:flex;justify-content:center}ion-content[_ngcontent-%COMP%]   .linha-logo[_ngcontent-%COMP%]   .coluna-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{text-align:center;content:url(logo\\ JANPP.e6615ad700426e5d.png)}ion-content[_ngcontent-%COMP%]   .linha-login[_ngcontent-%COMP%]{background-color:#e0fe31;padding:0 15px 15px;min-height:66vh;display:block;color:#000}ion-content[_ngcontent-%COMP%]   .linha-login[_ngcontent-%COMP%]   .linha-input[_ngcontent-%COMP%]{margin-top:10px}ion-content[_ngcontent-%COMP%]   .linha-login[_ngcontent-%COMP%]   .linha-botao[_ngcontent-%COMP%]{margin-top:10px}ion-content[_ngcontent-%COMP%]   .linha-login[_ngcontent-%COMP%]   .linha-botao[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}']}),i})()}];let R=(()=>{var n;class i{}return(n=i).\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.$C({type:n}),n.\u0275inj=t.G2t({imports:[d.iI.forChild(M),d.iI]}),i})(),O=(()=>{var n;class i{}return(n=i).\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.$C({type:n}),n.\u0275inj=t.G2t({providers:[f]}),i})(),E=(()=>{var n;class i{}return(n=i).\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.$C({type:n}),n.\u0275inj=t.G2t({providers:[u.o1],imports:[c.bv,p.MD,h.YN,R,O]}),i})()}}]);